"use strict";angular.module("simple-angular-node-project",["ngResource","ui.router"]).config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("app",{url:"/app",templateUrl:"views/app.html",controller:"AppCtrl","abstract":!0}).state("app.main",{url:"/main",templateUrl:"views/main.html",controller:"MainCtrl",data:{title:"Random Spoilers"}}),e.otherwise("/app/main")}]).controller("AppCtrl",["$scope",function(t){}]).controller("MainCtrl",["$scope","Spoilers","OMDb",function(t,e,o){t.generateSpoiler=function(){t.index=Math.floor(Math.random()*r.length),console.log(t.spoilers[t.index].imdb);var e=o.get({i:t.spoilers[t.index].imdb},function(){t.movie=e})};var r=e.query(function(){t.spoilers=r,t.generateSpoiler()})}]).directive("title",["$rootScope","$timeout",function(t,e){return{link:function(){var o=function(o,r){e(function(){t.title=r.data&&r.data.title?r.data.title:"Title"})};t.$on("$stateChangeSuccess",o)}}}]).factory("OMDb",["$resource",function(t){return t("http://www.omdbapi.com")}]).factory("Spoilers",["$resource",function(t){return t("/json/spoilers.json")}]);