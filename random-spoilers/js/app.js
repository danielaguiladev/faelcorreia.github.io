"use strict";angular.module("random-spoilers",["ngResource","ngAnimate","ui.router"]).config(["$stateProvider","$urlRouterProvider",function(e,r){e.state("app",{url:"/app",templateUrl:"views/app.html",controller:"AppCtrl","abstract":!0}).state("app.main",{url:"/main",templateUrl:"views/main.html",controller:"MainCtrl",data:{title:"Random Spoilers"}}),r.otherwise("/app/main")}]).controller("AppCtrl",["$scope",function(e){}]).controller("MainCtrl",["$scope","Spoilers","OMDb","$timeout",function(e,r,t,o){e.agreed=!1;var n=[];e.generateSpoiler=function(){e.ready=!1,o(function(){0==n.length&&i(e.spoilers.length);var r=Math.floor(Math.random()*n.length);e.index=n[r],n.splice(r,1);var o=t.get({i:e.spoilers[e.index].imdb},function(){e.movie=o,e.ready=!0})},1e3)},e["continue"]=function(){e.agreed=!0,e.generateSpoiler()};var i=function(e){for(var r=0;e>r;r++)n[r]=r},a=r.query(function(){e.spoilers=a})}]).factory("OMDb",["$resource",function(e){return e("http://www.omdbapi.com")}]).factory("Spoilers",["$resource",function(e){return e("json/spoilers.json")}]);