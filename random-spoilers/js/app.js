"use strict";angular.module("random-spoilers",["ngResource","ngAnimate","ui.router"]).config(["$stateProvider","$urlRouterProvider",function(e,r){e.state("app",{url:"/app",templateUrl:"views/app.html",controller:"AppCtrl","abstract":!0}).state("app.main",{url:"/main",templateUrl:"views/main.html",controller:"MainCtrl",data:{title:"Random Spoilers"}}),r.otherwise("/app/main")}]).controller("AppCtrl",["$scope",function(e){}]).controller("MainCtrl",["$scope","Spoilers","OMDb","$timeout",function(e,r,t,o){e.agreed=!1,e.generateSpoiler=function(){e.ready=!1,o(function(){e.index=Math.floor(Math.random()*n.length);var r=t.get({i:e.spoilers[e.index].imdb},function(){e.movie=r,e.ready=!0})},1e3)},e["continue"]=function(){e.agreed=!0,e.generateSpoiler()};var n=r.query(function(){e.spoilers=n})}]).factory("OMDb",["$resource",function(e){return e("http://www.omdbapi.com")}]).factory("Spoilers",["$resource",function(e){return e("json/spoilers.json")}]);